#! /bin/sh
#
# $Id: at_wrap.in,v 1.3 2004/12/22 13:04:00 stuart_hc Exp $
#
# tests/at_wrap.  Generated from at_wrap.in by configure.
# Wrapper around programs to be tested by autotest.
# Facilitates testing with valgrind and wine.


case "host_alias:" in
	*-x-mingw32*)
		# Check for cross-compilation to mingw32 and run wine for the tests
		exe=$1.exe
		shift
		exec wine '/Volumes/Macintosh/Users/thomasbruggemann/Sites/tiles2bsb/lib/libbsb/tests/../.'/$exe ${1+"$@"}
	;;
	*)
		# E.g.
		# env AT_EXEC_OPTS='valgrind -q --tool=memcheck --leak-check=yes' make check
		exec $AT_EXEC_OPTS ${1+"$@"}
	;;
esac
